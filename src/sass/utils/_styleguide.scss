/* _styleguide.scss */
@use "mixins" as *;
@use "helpers" as *;
@use "config" as *;
@use "sass:math";
@use "sass:string";
@use "sass:list";

/* ---------------------------------------------------------------------
 _styleguide contains project-specific style patterns
------------------------------------------------------------------------ */
// svg path, relative to compiled stylesheet
$svg-path: '../svgs/';
$img-path: '../images/';

/* ---------------------------------------------------------------------
 Type Map

 1. ems based on 1rem-sized parent
 2. relative line-heights
 3. add as many type-related declarations as needed

 Example:
 
 "h1-lg": (
	font: 11em/109% $font-primary,
	letter-spacing: 0.01em
 ),
 "h2-lg": (
	font: 8em/90% $font-secondary,
	letter-spacing: 0.02em,
	text-transform: uppercase
),
------------------------------------------------------------------------ */
$text-map: (

	// Crown
	/////////////////////
	// Active
	"h1-lg": (
		font: 3em/109% $font-primary,
		font-weight: 200,
		letter-spacing: 0.01em,
	),
	"h2-lg": (
		font: 2em/136% $font-tertiary,
		font-weight: 300,
		letter-spacing: 0.025em
	),
	"h3-lg": (
		font: 1.8em/136% $font-tertiary,
		font-weight: 300,
		letter-spacing: 0.025em
	),
	"h4-lg": (
		font: 1.6em/136% $font-tertiary,
		font-weight: 300,
		letter-spacing: 0.025em
	),
	"h5-lg": (
		font: 1.4em/136% $font-tertiary,
		font-weight: 300,
		letter-spacing: 0.025em
	),
	"legend-std": (
		font: 1.6em/136% $font-tertiary,
		font-weight: 400,
		letter-spacing: 0.025em
	),
	"p1-std": (
		font: 1.4em/136% $font-tertiary,
		font-weight: 300,
		letter-spacing: 0.025em
	),
	"p1-sm": (
		font: 1.2em/156% $font-secondary,
	),
	"input-std": (
		font: 1.6em/156% $font-tertiary,
		letter-spacing: 0.015em
	),
	"input-sm": (
		font: 1.4em/143% $font-tertiary,
		letter-spacing: 0.015em
	),
	
	
	// Non-headlines
	"p1-mono": (
		font-family: $font-secondary,
		font-feature-settings: var(--ffs),
		font-size: 2.2em,
		letter-spacing: 0.025em,
		line-height: 136%
	),
	
	"p2-mono": (
		font-family: $font-secondary,
		font-feature-settings: var(--ffs),
		font-size: 1.8em,
		letter-spacing: 0.015em,
		line-height: 139%
	),
	"p2-std": (
		font: 1.8em/139% $font-tertiary,
		font-weight: 300,
		letter-spacing: 0.015em
	),
	"p2-std-bold": (
		font: 1.8em/139% $font-quaternary,
		letter-spacing: 0.015em
	),
	
	
	"caption-p-bold": (
		font: 1.4em/143% $font-quaternary,
		letter-spacing: 0.015em
	),
	"caption-title": (
		font: 1.4em/179% $font-quaternary,
		font-weight: 700,
		letter-spacing: 0.2em,
		text-transform: uppercase
	),
	"detail-std": (
		font: 1.2em/167% $font-quaternary,
		letter-spacing: 0.015em
	),
	"detail-mono": (
		font-family: $font-secondary,
		font-feature-settings: var(--ffs),
		font-size: 1.2em,
		letter-spacing: 0.015em,
		line-height: 167%
	),
	"nav-mono": (
		font-family: $font-secondary,
		font-feature-settings: var(--ffs),
		font-size: 1.6em,
		letter-spacing: 0.015em,
		line-height: 250%
	),
);

/* ---------------------------------------------------------------------
 Type Map

 Example Usage:
 getType('h2-lg');
------------------------------------------------------------------------ */
@mixin getType($name) {
	$type-attrs: map-get($text-map, $name);

	// Explode the attr-props
	@each $attr, $prop in $type-attrs {
		#{$attr}: $prop;
	}
}

/* ---------------------------------------------------------------------
 Theme
------------------------------------------------------------------------ */
$color-primary: getColor('black');
$color-secondary: getColor('white');

/* ---------------------------------------------------------------------
  Globals Vars
------------------------------------------------------------------------ */
$palette-transition: background .3s, color .3s;
$fill-transition: fill .3s;
$fade-transition: opacity .5s;
$slide-transition: transform .5s;

/* ---------------------------------------------------------------------
  Buttons
------------------------------------------------------------------------ */

@mixin globalButton($colors...) {
	$color-count: length($colors);
	
	$color-primary: if($color-count >= 1,nth($colors,1),$color-primary);
	$color-secondary: if($color-count >= 2,nth($colors,2),$color-secondary);

	@include resetButton;
	border: 1px solid $color-primary;
	border-radius: 8px;
	padding: 0.6em 0.5em 0.8em;
	transition: $palette-transition;
	background: $color-secondary;
	color: $color-primary;
	font-size: 1rem;
	display: flex;
	align-items: end;

	&-label {
		@include getType('input-sm');
	}

	svg {
		height: 16px;
		width: 16px;
		margin-left: 0.5em;
		fill: $color-primary;
		transition: $fill-transition;
	}

	@media (hover: hover) {
		&:hover {
			cursor: pointer;
			background: $color-primary;
			color: $color-secondary;

			svg {
				fill: $color-secondary;
			}
		}
	}
}

@mixin globalButtonPair($selector) {
	display: flex;
	flex-flow: row nowrap;
	justify-content: end;

	@at-root {
		#{$selector}-action {
			@include globalButton();

			&:nth-of-type(1) {
				margin-right: 1em;
			}

			&--alt {
				border: none;
				border-radius: 0;
				text-decoration: underline;
				text-underline-offset: 5px;
			}

		}
	}
}


@mixin globalTrigger() {
	@include resetButton;
	@include getType('input-std');
	padding: 1em;
	text-decoration: underline;
	text-underline-offset: 6px;
	transition: $palette-transition;

	@media (hover: hover) {
		&:hover  {
			cursor: pointer;
			background: getColor('black');
			color: getColor('white');
			transition: $palette-transition;

			svg {
				fill: getColor('white');
				transition: $fill-transition;
			}

		}
	}

	svg {
		fill: getColor('black');
		margin-left: 0.3em;
		width: 15px;
		height: 15px;
		transition: $fill-transition;
	}
	
}

